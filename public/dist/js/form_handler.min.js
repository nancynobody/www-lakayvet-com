!function(){function e(){$("#submit").click(a)}function a(e){console.log("Ajax Submit button pressed.");var a=document.getElementById("newReservationForm"),s=$("#g-recaptcha-response").val();if(""===s)event.preventDefault(),alert("Please check the recaptcha");else{e.preventDefault(),e.stopPropagation(),$("#newReservationForm").attr("disabled",!0);for(var t=["first_name","last_name","email","phone","amount"],n=0;n<t.length;n+=1)$("#"+t[n]+" span.glyphicon").addClass("hide"),$("#"+t[n]).removeClass("has-error has-feedback"),$("#"+t[n]+" span.help-block.text-danger sm").text("");$(".ajaxLoader").fadeIn(),$.ajax({url:"/addReservation",type:"POST",data:{first_name:a.first_name.value,last_name:a.last_name.value,email:a.email.value,phone:a.phone.value,amount:a.amount.value},success:r,error:o})}}function r(e){console.log("Axaj Post Success Handler Called");for(var a in e)console.log(e[a]);if(e.errors){console.log("Updating form errors");for(var r in e.errors)console.log(e.errors[r]),$("#"+e.errors[r].param+" span.glyphicon").removeClass("hide"),$("#"+e.errors[r].param).addClass("has-error has-feedback"),$("#"+e.errors[r].param+" span.help-block.text-danger sm").text(e.errors[r].msg),grecaptcha.reset()}else console.log("Form submitted successfully"),toastr.success("Form submitted successfully",null,{positionClass:"toast-bottom-full-width"}),$("#newReservationForm input").val(""),grecaptcha.reset();$(".ajaxLoader").fadeOut()}function o(e){console.log("Ajax Post Failure Handler Called"),$("#newReservationForm input").val(""),$(".ajaxLoader").fadeOut()}$(document).ready(e)}();